<div class="container">
	<div class="flex justify-content-center">
	<%if @user && @user.id != @owner_id%>
		<%if !@user.wish_lists.find_by_item_id(@item.id) %>
		<button onclick="ajax_user_action(<%=@user.id %>,<%= @item.id%>,'', 'itemIndex', 2, 'POST', '#user_actions', )", class="btn btn-primary" >Add to wish list</button>
		<%else%>
			<button onclick="ajax_user_action(<%=@user.id %>,<%= @item.id%>,'', 'itemIndex', 3, 'DELETE', '#user_actions', '')", class="btn btn-primary">Remove from wish list</button>
		<%end%>

		<% bi = @user.borrowed_items.find_by_item_id(@item.id)%>
		<%if bi %>
		<div><%= link_to 'Return this item', new_user_review_lender_and_item_path(user_id: @user.id, item_id: @item.id, lender_id: @owner_id), class: "btn btn-primary" %></div>
		<div>
			<%if bi.approved == nil%>
			<%= link_to 'Send due date extension', edit_user_borrowed_item_path(user_id: @user.id, id: @item.id), class: "btn btn-primary"%>
			<%end%>
		</div>
		<%end%>
		<% ohi = @user.on_hold_items.find_by_item_id(@item.id)%>
		<%if !ohi %>
			<div><%= link_to 'Interested in this item?', new_user_on_hold_item_path(user_id: @user.id, item_id: @item.id, :format => "js"), remote: true, class: "btn btn-primary"%></div>
			<div id="render_duration_form"></div>
		<%elsif ohi && ohi.approved != "Approved"%>
			<button onclick="ajax_user_action(<%=@user.id %>,<%= @item.id%>,'', 'itemIndex',1,'DELETE', '#user_actions', '')", class="btn btn-primary">Cancel borrow request</button>
		<%end%>
	<!-- not logged in - prompt user to login/sign up -->
	<%elsif @user == nil %>
		<div>Interested in this item? <%=link_to 'Please login/sign up', login_path, method: :get, class: "btn btn-primary" %></div>
	<%end%>
	</div>
</div>
